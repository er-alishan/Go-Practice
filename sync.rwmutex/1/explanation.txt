RWMutex kya hai?

sync.Mutex â†’ ek waqt par sirf ek goroutine access kar sakta hai.
sync.RWMutex â†’ do mode me kaam karta hai:
RLock / RUnlock â†’ Multiple readers ek sath read kar sakte hain.
Lock / Unlock â†’ Ek writer hi likh sakta hai, aur jab writer likh raha ho to koi reader allowed nahi hai.

ðŸ‘‰ Matlab: Agar sirf read karna hai to multiple goroutines ek sath kaam kar sakte hain.
ðŸ‘‰ Lekin write karne ke time exclusive lock lagta hai.


ðŸ”¹ Explanation
Deposit â†’ Lock() use karta hai â†’ ek time par sirf ek hi goroutine balance update karega.
GetBalance â†’ RLock() use karta hai â†’ multiple readers ek sath balance dekh sakte hain.
Agar koi writer likh raha hai â†’ readers aur writers dono ko wait karna padega.
Ye concurrency improve karta hai, kyunki read-only operations lock ko share kar sakte hain.


âš¡ Interview me pucha jaa sakta hai:

Difference between sync.Mutex and sync.RWMutex?
Kab RWMutex prefer karna chahiye?
Agar 90% read aur 10% write hai, to kaunsa better hoga? (Answer: RWMutex)